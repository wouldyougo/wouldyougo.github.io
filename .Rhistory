knit("Try R Chapter 7.Rmd")
knit("Try R Chapter 0.Rmd")
knit("Try R Chapter 1.Rmd")
knit("Try R Chapter 2.Rmd")
knit("Try R Chapter 3.Rmd")
knit("Try R Chapter 4.Rmd")
knit("Try R Chapter 5.Rmd")
knit("Try R Chapter 6.Rmd")
knit("Try R Chapter 7.Rmd")
markdownToHTML("Try R Chapter 0.md", "Try R Chapter 0.html")
markdownToHTML("Try R Chapter 1.md", "Try R Chapter 1.html")
markdownToHTML("Try R Chapter 2.md", "Try R Chapter 2.html")
markdownToHTML("Try R Chapter 3.md", "Try R Chapter 3.html")
markdownToHTML("Try R Chapter 4.md", "Try R Chapter 4.html")
markdownToHTML("Try R Chapter 5.md", "Try R Chapter 5.html")
markdownToHTML("Try R Chapter 6.md", "Try R Chapter 6.html")
markdownToHTML("Try R Chapter 7.md", "Try R Chapter 7.html")
knit("Try R Chapter 1.Rmd")
markdownToHTML("Try R Chapter 1.md", "Try R Chapter 1.html")
knit("Try R Chapter 2.Rmd")
markdownToHTML("Try R Chapter 2.md", "Try R Chapter 2.html")
knit("Try R Chapter 3.Rmd")
markdownToHTML("Try R Chapter 3.md", "Try R Chapter 3.html")
knit("Try R Chapter 4.Rmd")
markdownToHTML("Try R Chapter 4.md", "Try R Chapter 4.html")
knit("Try R Chapter 5.Rmd")
markdownToHTML("Try R Chapter 5.md", "Try R Chapter 5.html")
knit("Try R Chapter 6.Rmd")
markdownToHTML("Try R Chapter 6.md", "Try R Chapter 6.html")
knit("Try R Chapter 7.Rmd")
markdownToHTML("Try R Chapter 7.md", "Try R Chapter 7.html")
library(knitr)
library(markdown)
knit("Try R Chapter 0.Rmd")
knit("Try R Chapter 1.Rmd")
knit("Try R Chapter 2.Rmd")
knit("Try R Chapter 3.Rmd")
knit("Try R Chapter 4.Rmd")
knit("Try R Chapter 5.Rmd")
knit("Try R Chapter 6.Rmd")
knit("Try R Chapter 7.Rmd")
markdownToHTML("Try R Chapter 7.md", "Try R Chapter 7.html")
markdownToHTML("Try R Chapter 0.md", "Try R Chapter 0.html")
markdownToHTML("Try R Chapter 1.md", "Try R Chapter 1.html")
markdownToHTML("Try R Chapter 2.md", "Try R Chapter 2.html")
markdownToHTML("Try R Chapter 3.md", "Try R Chapter 3.html")
markdownToHTML("Try R Chapter 4.md", "Try R Chapter 4.html")
markdownToHTML("Try R Chapter 5.md", "Try R Chapter 5.html")
markdownToHTML("Try R Chapter 6.md", "Try R Chapter 6.html")
knit("index.Rmd")
markdownToHTML("index.md", "index.html")
knit("index.Rmd")
markdownToHTML("index.md", "index.html")
#knitr — Weaves Rmd files into plain markdown (.md) files
#markdown — Converts markdown files into HTML documents
library(knitr)
library(markdown)
knit("Try R Chapter 0.Rmd")
knit("Try R Chapter 1.Rmd")
knit("Try R Chapter 2.Rmd")
knit("Try R Chapter 3.Rmd")
knit("Try R Chapter 4.Rmd")
knit("Try R Chapter 5.Rmd")
knit("Try R Chapter 6.Rmd")
knit("Try R Chapter 7.Rmd")
markdownToHTML("Try R Chapter 7.md", "Try R Chapter 7.html")
markdownToHTML("Try R Chapter 0.md", "Try R Chapter 0.html")
markdownToHTML("Try R Chapter 1.md", "Try R Chapter 1.html")
markdownToHTML("Try R Chapter 2.md", "Try R Chapter 2.html")
markdownToHTML("Try R Chapter 3.md", "Try R Chapter 3.html")
markdownToHTML("Try R Chapter 4.md", "Try R Chapter 4.html")
markdownToHTML("Try R Chapter 5.md", "Try R Chapter 5.html")
markdownToHTML("Try R Chapter 6.md", "Try R Chapter 6.html")
knit("Samples R 0.Rmd")
knit("Samples R 1.Rmd")
knit("Samples R 2.Rmd")
knit("Samples R 3.Rmd")
knit("Samples R 4.Rmd")
knit("Samples R 5.Rmd")
knit("Samples R 6.Rmd")
knit("Samples R 7.Rmd")
markdownToHTML("Samples R 0.md", "Samples R 0.html")
markdownToHTML("Samples R 1.md", "Samples R 1.html")
markdownToHTML("Samples R 2.md", "Samples R 2.html")
markdownToHTML("Samples R 3.md", "Samples R 3.html")
knit("index.Rmd")
markdownToHTML("index.md", "index.html")
txt <- "Date  Time  value
20010101 000000  0.833
20010101 000500  0.814
20010101 001000  0.794
20010101 001500  0.772"
print(txt)
df <- read.table(text=txt, header=TRUE,
colClasses=c("character", "character", "numeric"))
df$DateTime <- as.POSIXct(paste(df$Date, df$Time), format="%Y%m%d %H%M%S")
## Посмотреть датафрейм
print(df)
library(knitr)
library(markdown)
knit("Samples R 3.R")
knit("Samples R 3.R")
markdownToHTML("Samples R 3.md", "Samples R 3.html")
markdownToHTML("Samples R 3.txt", "Samples R 3.html")
knit("Samples R 0.Rmd")
knit("Samples R 1.Rmd")
knit("Samples R 2.Rmd")
knit("Samples R 3.Rmd")
markdownToHTML("Samples R 0.md", "Samples R 0.html")
markdownToHTML("Samples R 1.md", "Samples R 1.html")
markdownToHTML("Samples R 2.md", "Samples R 2.html")
markdownToHTML("Samples R 3.md", "Samples R 3.html")
source('Z:/R&D/R&D Repositories/wouldyougo.github.io/how_to/Data Up and Running with R/Ex03_01.R', echo=TRUE)
source('Z:/R&D/R&D Repositories/wouldyougo.github.io/how_to/Data Up and Running with R/Ex03_01.R', echo=TRUE)
# Up and Running with R
# Ex03_01
# Creating bar charts for categorical variables
# Use dataset "social_network.csv" which records the
# gender and age of 202 online survey respondents
# along with their preferred social networking site
# and an estimate of how many times they log in
# per week.
# Create data frame "sn" from CSV file w/headers
sn <- read.csv("social_network.csv", header = T)
# R doesn't create bar charts directly from the categorical
# variables; instead, we must first create a table that
# has the frequencies for each level of the variable.
# The "table" function is able to create this table from
# the variable, which we specify as sn$Site. That is, we
# first give the name of the data frame, then $, then the
# name of the variable. (Following Google's style guide,
# it is better to state explictly the data frame than to
# use the shortcut function "attach," which can lead to
# confusion.)
site.freq <- table(sn$Site)  # Creates table from Site
barplot(site.freq)  # Creates barplot in new window
? barplot  # For more information on customizing graph
# To put the bars in descending order, add "order":
barplot(site.freq[order(site.freq, decreasing = T)])
# Draw the bars horizontally (but turn off decreasing)
barplot(site.freq[order(site.freq)], horiz = T)
# Make Facebook blue and all others gray by specifying a
# vector with named colors for gray and RGB for Facebook blue
# fbba = "Facebook blue/ascending" for horizontal bars
# And now breaking code across lines for clarity
fbba <- c(rep("gray", 5),
rgb(59, 89, 152, maxColorValue = 255))
barplot(site.freq[order(site.freq)],
horiz = T,
col = fbba)
# Turn off borders with "border = NA"
# Add title with "main" with "\n" to break line
# Add subtitle with "sub"
barplot(site.freq[order(site.freq)],
horiz = T,         # Horizontal
col = fbba,        # Use colors "fbba"
border = NA,       # No borders
xlim = c(0, 100),  # Scale from 0-100
main = "Preferred Social Networking Site\nA Survey of 202 Users",
xlab = "Number of Users")
# Immense amount of control available through
# "par {graphics}"
# RStudio gives option of saving as image file in
# several formats and it's easier to change sizes
sn <- read.csv("social_network.csv", header = T)
# Creating bar charts for categorical variables
# Use dataset "social_network.csv" which records the
# gender and age of 202 online survey respondents
# along with their preferred social networking site
# and an estimate of how many times they log in
# per week.
# Create data frame "sn" from CSV file w/headers
sn <- read.csv("social_network.csv", header = T)
# R doesn't create bar charts directly from the categorical
# variables; instead, we must first create a table that
# has the frequencies for each level of the variable.
# The "table" function is able to create this table from
# the variable, which we specify as sn$Site. That is, we
# first give the name of the data frame, then $, then the
# name of the variable. (Following Google's style guide,
# it is better to state explictly the data frame than to
# use the shortcut function "attach," which can lead to
# confusion.)
site.freq <- table(sn$Site)  # Creates table from Site
barplot(site.freq)  # Creates barplot in new window
? barplot  # For more information on customizing graph
# To put the bars in descending order, add "order":
barplot(site.freq[order(site.freq, decreasing = T)])
# Draw the bars horizontally (but turn off decreasing)
barplot(site.freq[order(site.freq)], horiz = T)
# Make Facebook blue and all others gray by specifying a
# vector with named colors for gray and RGB for Facebook blue
# fbba = "Facebook blue/ascending" for horizontal bars
# And now breaking code across lines for clarity
fbba <- c(rep("gray", 5),
rgb(59, 89, 152, maxColorValue = 255))
barplot(site.freq[order(site.freq)],
horiz = T,
col = fbba)
# Turn off borders with "border = NA"
# Add title with "main" with "\n" to break line
# Add subtitle with "sub"
barplot(site.freq[order(site.freq)],
horiz = T,         # Horizontal
col = fbba,        # Use colors "fbba"
border = NA,       # No borders
xlim = c(0, 100),  # Scale from 0-100
main = "Preferred Social Networking Site\nA Survey of 202 Users",
xlab = "Number of Users")
# Immense amount of control available through
# "par {graphics}"
# RStudio gives option of saving as image file in
# several formats and it's easier to change sizes
sn <- read.csv("Data Try R\social_network.csv", header = T)
sn <- read.csv("Data Try R/social_network.csv", header = T)
sn
site.freq <- table(sn$Site)  # Creates table from Site
site.freq
barplot(site.freq)  # Creates barplot in new window
? barplot  # For more information on customizing graph
? barplot  # For more information on customizing graph
# To put the bars in descending order, add "order":
barplot(site.freq[order(site.freq, decreasing = T)])
# Draw the bars horizontally (but turn off decreasing)
barplot(site.freq[order(site.freq)], horiz = T)
fbba <- c(rep("gray", 5),
rgb(59, 89, 152, maxColorValue = 255))
fbba
barplot(site.freq[order(site.freq)],
horiz = T,
col = fbba)
barplot(site.freq[order(site.freq)],
horiz = T,         # Horizontal
col = fbba,        # Use colors "fbba"
border = NA,       # No borders
xlim = c(0, 100),  # Scale from 0-100
main = "Preferred Social Networking Site\nA Survey of 202 Users",
xlab = "Number of Users")
knit("Samples R 3.Rmd")
library(knitr)
library(markdown)
knit("Samples R 3.Rmd")
markdownToHTML("Samples R 3.md", "Samples R 3.html")
library(knitr)
opts_chunk$set(fig.path='figure/silk-')
#' The report begins here.
#+ test-a, cache=FALSE
# boring examples as usual
set.seed(123)
x = rnorm(5)
mean(x)
#' You can use the special syntax {{code}} to embed inline expressions, e.g.
{{mean(x)+2}}
#' is the mean of x plus 2.
#' The code itself may contain braces, but these are not checked.  Thus,
#' perfectly valid (though very strange) R code such as `{{2 + 3}} - {{4 - 5}}`
#' can lead to errors because `2 + 3}} - {{4 - 5` will be treated as inline code.
#'
#' Now we continue writing the report. We can draw plots as well.
#+ test-b, fig.width=5, fig.height=5
par(mar = c(4, 4, .1, .1)); plot(x)
#' Actually you do not have to write chunk options, in which case knitr will use
#' default options. For example, the code below has no options attached:
var(x)
quantile(x)
#' And you can also write two chunks successively like this:
#+ test-chisq5
sum(x^2) # chi-square distribution with df 5
#+ test-chisq4
sum((x - mean(x))^2) # df is 4 now
#' Done. Call spin('knitr-spin.R') to make silk from sow's ear now and knit a
#' lovely purse.
# /* you can write comments between /* and */ like C comments (the preceding #
# is optional)
Sys.sleep(60)
library(knitr)
opts_chunk$set(fig.path='figure/silk-')
set.seed(123)
x = rnorm(5)
mean(x)
{{mean(x)+2}}
par(mar = c(4, 4, .1, .1)); plot(x)
var(x)
quantile(x)
sum(x^2) # chi-square distribution with df 5
#+ test-chisq4
sum((x - mean(x))^2) # df is 4 now
Sys.sleep(60)
# Up and Running with R
# Ex03_02
# Creating histograms for quantitative variables
# Create data frame "sn" from CSV file w/headers
sn <- read.csv("social_network.csv", header = T)
# Make a histogram of Age using the defaults
hist(sn$Age)
# Add title, colors, etc.
hist(sn$Age,
#border = NA,
col = "beige", # Or use: col = colors() [18]
main = "Ages of Respondents\nSocial Networking Survey of 202 Users",
xlab = "Age of Respondents")
# By the way, a chart of R's color palette can be found at
# http://research.stowers-institute.org/efg/R/Color/Chart/
# including a downloadable PDF version. This chart uses
# numbers for colors instead of names. To get the names, use
colors() [18]  # Which will output [1] "beige"
colors()[c(552, 254, 26)]  # Gives [1] "red" "green" "blue"
# Up and Running with R
# Ex03_03
# Creating box plots for quantitative variables
# Create data frame "sn" from CSV file w/headers
sn <- read.csv("social_network.csv", header = T)
# Make boxplots of Age and Times using the defaults
boxplot(sn$Age)
# Add title, colors, etc.
boxplot(sn$Age,
col = "beige",
notch = T,
horizontal = T,
main = "Ages of Respondents\nSocial Networking Survey of 202 Users",
xlab = "Age of Respondents")
# Up and Running with R
# Ex03_04
# Calculating frequencies
# Create data frame "sn" from CSV file w/headers
sn <- read.csv("social_network.csv", header = T)
table(sn$Site)  # Creates frequency table in alphabetical order
site.freq <- table(sn$Site)  # Saves table
site.freq  # Print table
site.freq <- site.freq[order(site.freq, decreasing = T)] # Sorts by frequency, saves table
site.freq  # Print table
prop.table(site.freq)  # Give proportions of total
round(prop.table(site.freq), 2)  # Give proportions w/2 decimal places
# Calculating descriptives
# Load data file about Google searches by state
google <- read.csv("google_correlate.csv", header = T)
names(google)
reg1 <- lm(data_viz ~
degree + stats_ed + facebook + nba + has_nba + region,
data = google)
summary(reg1)
google <- read.csv("google_correlate.csv", header = T)
google <- read.csv("google_correlate.csv", header = T)
# Up and Running with R
# Ex05_01
# Creating charts for group distributions
# Load data file about Google searches by state
google <- read.csv("google_correlate.csv", header = T)
names(google)
str(google)
# Does interest in data visualization vary by region?
# Split data by region, create new data frame
viz.reg.dist <- split(google$data_viz, google$region)
# Draw boxplots by region
boxplot(viz.reg.dist, col = "lavender")
# To draw barplot with means
viz.reg.mean <- sapply(viz.reg.dist, mean)
# Run next two together (or sequentially)
barplot(viz.reg.mean,
col = "beige",
main = "Average Google Search Share of\n\"Data Visualization\" by Region of US")
abline(h = 0)
# Install and load "psych" package to print means, etc.
install.packages("psych")
library("psych")
describeBy(google$data_viz, google$region)
# Up and Running with R
# Ex05_01
# Creating charts for group distributions
# Load data file about Google searches by state
google <- read.csv("google_correlate.csv", header = T)
names(google)
str(google)
# Does interest in data visualization vary by region?
# Split data by region, create new data frame
viz.reg.dist <- split(google$data_viz, google$region)
# Draw boxplots by region
boxplot(viz.reg.dist, col = "lavender")
# To draw barplot with means
viz.reg.mean <- sapply(viz.reg.dist, mean)
# Run next two together (or sequentially)
barplot(viz.reg.mean,
col = "beige",
main = "Average Google Search Share of\n\"Data Visualization\" by Region of US")
abline(h = 0)
# Install and load "psych" package to print means, etc.
#install.packages("psych")
library("psych")
describeBy(google$data_viz, google$region)
sn <- read.csv("social_network.csv", header = T)
install.packages("rgl")
google <- read.csv("google_correlate.csv", header = T)
install.packages("Hmisc")
sn <- read.csv("social_network.csv", header = T)
setwd("Z:/R&D/R&D Repositories/wouldyougo.github.io/how_to/Up and Running with R")
sn <- read.csv("social_network.csv", header = T)
setwd("Z:/R&D/R&D Repositories/wouldyougo.github.io/how_to")
setwd("Up and Running with R")
wd
getwd
getwd()
library("rgl")
google <- read.csv("google_correlate.csv", header = T)
names(google)
plot3d(google$data_viz,  # x variable
google$degree,    # y variable
google$facebook,  # z variable
xlab = "data_viz",
ylab = "degree",
zlab = "facebook",
col  = "red",
size = 3)
plot3d(google$data_viz,  # x variable
google$degree,    # y variable
google$facebook,  # z variable
xlab = "data_viz",
ylab = "degree",
zlab = "facebook",
col  = "red",
size = 3)
google <- read.csv("google_correlate.csv", header = T)
names(google)
g.quant <- google[c(3, 7, 4, 5)]
# Correlation matrix for data frame
cor(g.quant)
# Can test one pair of variables at a time
# Gives r, hypothesis test, and confidence interval
cor.test(g.quant$data_viz, g.quant$degree)
# Install "Hmisc" package to get p-values for matrix
#install.packages("Hmisc")
library("Hmisc")
# Need to coerce g.quant from data frame to matrix
# to get correlation matrix and p-values
rcorr(as.matrix(g.quant))
# Up and Running with R
# Up and Running with R
# Ex06_02
# Computing a regression
# Load data file about Google searches by state
google <- read.csv("google_correlate.csv", header = T)
names(google)
reg1 <- lm(data_viz ~
degree + stats_ed + facebook + nba + has_nba + region,
data = google)
summary(reg1)
# Up and Running with R
# Ex06_03
# Creating crosstabs for categorical variables
# Load data file about social networks
# Deleted one case with missing data on Gender
sn <- read.csv("social_network.csv", header = T)
names(sn)
# Create contingency table
sn.tab <- table(sn$Gender, sn$Site)
sn.tab
# If desired, can get marginal frequencies
margin.table(sn.tab, 1) # Row marginal frequencies
margin.table(sn.tab, 2) # Column marginal frequencies
# Call also get cell, row, and column %
# With rounding to get just 2 decimal places
round(prop.table(sn.tab), 2)    # cell %
round(prop.table(sn.tab, 1), 2) # row %
round(prop.table(sn.tab, 2), 2) # column %
# Chi-squared test
chisq.test(sn.tab)
# Up and Running with R
# Ex06_05
# Comparing means with ANOVA
# Load data file about Google searches by state
google <- read.csv("google_correlate.csv", header = T)
names(google)
# One Way Anova
anova1 <- aov(data_viz ~ region, data = google)
summary(anova1)
# Two Way Factorial Design
# First way to specify
anova2a <- aov(data_viz ~
region + stats_ed + region:stats_ed,
data = google)
summary(anova2a)
# Second way to specify
anova2b <- aov(data_viz ~
region*stats_ed,
data = google)
summary(anova2b)
setwd("Z:/R&D/R&D Repositories/wouldyougo.github.io/how_to")
### Пример
### add required assets such as CSS and JS libraries
```{r comment = NA, results = 'asis', message = F}
## load the package
library(rCharts)
## utility function to add required assets such as CSS and JS libraries
add_lib_assets <- function(lib, cdn = F, css = NULL) {
assets = get_assets(get_lib(lib), cdn = cdn)
if (!is.null(css)) {
assets$css = c(assets$css, css)
}
styles <- lapply(assets$css, function(style) {
sprintf("<link rel='stylesheet' href=%s>", style)
})
scripts <- lapply(assets$jshead, function(script) {
sprintf("<script type='text/javascript' src=%s></script>", script)
})
cat(paste(c(styles, scripts), collapse = "\n"))
}
# get assets from online repositories
add_lib_assets("NVD3", cdn = TRUE, css = "http://rawgithub.com/ramnathv/rCharts/master/inst/libraries/nvd3/css/rNVD3.css")
add_lib_assets("Polycharts", cdn = TRUE)
hair_eye_male <- subset(as.data.frame(HairEyeColor), Sex == "Male")
n1 <- nPlot(Freq ~ Hair, group = "Eye", data = hair_eye_male, type = "multiBarChart")
n1$print("nvd3mbar")
```
